<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-01-25 二 15:54 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tensorboard</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Wei Sun (孙伟)" />
<link rel="stylesheet" type="text/css" href="/main.css" media="screen" />
<link rel = "icon" href = "/icon.png"  type = "image/x-icon">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Tensorboard</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org6e56bfc">1. Tensorboard</a>
<ul>
<li><a href="#orgabe133f">1.1. basic</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org6e56bfc" class="outline-2">
<h2 id="org6e56bfc"><span class="section-number-2">1</span> Tensorboard</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgabe133f" class="outline-3">
<h3 id="orgabe133f"><span class="section-number-3">1.1</span> basic</h3>
<div class="outline-text-3" id="text-1-1">
<div class="org-src-container">
<pre class="src src-ipython"><span style="color: #859900;">import</span> tensorflow <span style="color: #859900;">as</span> tf
<span style="color: #859900;">import</span> numpy <span style="color: #859900;">as</span> np
<span style="color: #859900;">from</span> tensorflow.keras <span style="color: #859900;">import</span> layers<span style="color: #757575;">,</span>losses<span style="color: #757575;">,</span>metrics<span style="color: #757575;">,</span>optimizers<span style="color: #757575;">,</span> models

<span style="color: #268bd2;">X</span> = tf.random.uniform<span style="color: #757575;">(</span>[100<span style="color: #757575;">,</span> 1]<span style="color: #757575;">,</span> minval = 1<span style="color: #757575;">,</span> maxval = 10.<span style="color: #757575;">)</span>
<span style="color: #268bd2;">Y</span> = tf.<span style="color: #839496;">pow</span><span style="color: #757575;">(</span>X<span style="color: #757575;">,</span>2<span style="color: #757575;">)</span>

tf.keras.backend.clear_session<span style="color: #757575;">()</span>

<span style="color: #268bd2;">model</span> = models.Sequential<span style="color: #757575;">()</span>;
model.add<span style="color: #757575;">(</span>layers.Dense<span style="color: #757575;">(</span>20<span style="color: #757575;">,</span> input_shape=<span style="color: #757575;">(</span>1<span style="color: #757575;">,),</span>activation=<span style="color: #2aa198;">"relu"</span><span style="color: #757575;">))</span>
model.add<span style="color: #757575;">(</span>layers.Dense<span style="color: #757575;">(</span>20<span style="color: #757575;">,</span>activation=<span style="color: #2aa198;">"relu"</span><span style="color: #757575;">))</span>
model.add<span style="color: #757575;">(</span>layers.Dense<span style="color: #757575;">(</span>1<span style="color: #757575;">))</span>

model.summary<span style="color: #757575;">()</span>

model.<span style="color: #839496;">compile</span><span style="color: #757575;">(</span>optimizer=<span style="color: #2aa198;">"adam"</span><span style="color: #757575;">,</span>loss=<span style="color: #2aa198;">"mse"</span><span style="color: #757575;">)</span>

<span style="color: #268bd2;">tensorboard_callback</span> = tf.keras.callbacks.TensorBoard<span style="color: #757575;">(</span>log_dir=<span style="color: #2aa198;">"/tmp/tf-logs"</span><span style="color: #757575;">)</span>
<span style="color: #268bd2;">history</span> = model.fit<span style="color: #757575;">(</span>X<span style="color: #757575;">,</span>Y<span style="color: #757575;">,</span>batch_size = 20<span style="color: #757575;">,</span>epochs = 2000<span style="color: #757575;">,</span> verbose = 0<span style="color: #757575;">,</span> callbacks=[tensorboard_callback]<span style="color: #757575;">)</span>
<span style="color: #859900;">print</span><span style="color: #757575;">(</span>model.predict<span style="color: #757575;">(</span>[2.<span style="color: #757575;">,</span>10.<span style="color: #757575;">,</span>20]<span style="color: #757575;">))</span>
</pre>
</div>

<p>
Model: "sequential"
<span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline">_</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
Layer (type)                 Output Shape              Param #   
<code>===============================================================</code>
dense (Dense)                (None, 20)                40        
<span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline">_</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
dense_1 (Dense)              (None, 20)                420       
<span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline">_</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
dense_2 (Dense)              (None, 1)                 21        
<code>===============================================================</code>
Total params: 481
Trainable params: 481
Non-trainable params: 0
<span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline">_</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
[[  4.083504]
 [ 98.764854]
 [272.11337 ]]
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">

<p class="author">Author: sunway (sunwayforever@gmail.com)<br />
Date: 2020-07-28 二 00:00<br />
Last updated: 2021-09-16 四 11:06</p>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。
<br />

<div id="disqus_thread"></div>
<script>

(function() { // DON'T EDIT BELOW THIS LINE
         var d = document, s = d.createElement('script');
         s.src = '//sunwayforever-github-io.disqus.com/embed.js';
         s.setAttribute('data-timestamp', +new Date());
         (d.head || d.body).appendChild(s);
         })();
</script>
</div>
</body>
</html>
