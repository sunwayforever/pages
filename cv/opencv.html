<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<title>OpenCV</title>

<link rel="stylesheet" type="text/css" href="/main.css" media="screen" />
<link rel = "icon" href = "/icon.png"  type = "image/x-icon">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">OpenCV</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org0000030">1. OpenCV</a>
<ul>
<li><a href="#org0000000">1.1. Overview</a></li>
<li><a href="#org0000003">1.2. affine transform <code>[5/5]</code></a></li>
<li><a href="#org0000006">1.3. WAIT perspective transform <code>[0/3]</code></a></li>
<li><a href="#org0000009">1.4. WAIT histogram <code>[0/1]</code></a></li>
<li><a href="#org000000c">1.5. WAIT threshold</a></li>
<li><a href="#org000000f">1.6. WAIT convolution</a></li>
<li><a href="#org0000012">1.7. WAIT gradient</a></li>
<li><a href="#org0000015">1.8. contours <code>[6/6]</code></a></li>
<li><a href="#org0000018">1.9. WAIT calibrate <code>[0/1]</code></a></li>
<li><a href="#org000001b">1.10. WAIT projection <code>[0/2]</code></a></li>
<li><a href="#org000001e">1.11. WAIT stereo <code>[0/1]</code></a></li>
<li><a href="#org0000021">1.12. cv2.KalmanFilter</a></li>
<li><a href="#org000002d">1.13. 坑</a>
<ul>
<li><a href="#org0000024">1.13.1. RGB vs. BGR</a></li>
<li><a href="#org0000027">1.13.2. (col,row) vs. (row,col)</a></li>
<li><a href="#org000002a">1.13.3. cv2.transform</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org0000030" class="outline-2">
<h2 id="org0000030"><span class="section-number-2">1</span> OpenCV</h2>
<div class="outline-text-2" id="text-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-11-23 Mon]</span></span>
</p>

<p>
<a href="https://www.tutorialspoint.com/opencv/opencv_overview.htm">https://www.tutorialspoint.com/opencv/opencv_overview.htm</a>
</p>
</div>

<div id="outline-container-org0000000" class="outline-3">
<h3 id="org0000000"><span class="section-number-3">1.1</span> Overview</h3>
</div>

<div id="outline-container-org0000003" class="outline-3">
<h3 id="org0000003"><span class="section-number-3">1.2</span> affine transform <code>[5/5]</code></h3>
<div class="outline-text-3" id="text-1-2">
<p>
<a href="file:///home/sunway/Gitbox/code/hello_world/hello_opencv/affine.py">file:~/Gitbox/code/hello_world/hello_opencv/affine.py</a>
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> cv2.transform</li>

<li class="on"><code>[X]</code> cv2.getAffineTransform</li>

<li class="on"><code>[X]</code> cv2.warpAffine</li>
</ul>


<ul class="org-ul">
<li class="on"><code>[X]</code> cv2.invertAffineTransform</li>
</ul>


<ul class="org-ul">
<li class="on"><code>[X]</code> cv2.getRotationMatrix2D</li>
</ul>
</div>
</div>


<div id="outline-container-org0000006" class="outline-3">
<h3 id="org0000006"><span class="section-number-3">1.3</span> WAIT perspective transform <code>[0/3]</code></h3>
<div class="outline-text-3" id="text-1-3">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-12-28 Mon]</span></span>
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> perspectiveTransform</li>
<li class="off"><code>[&#xa0;]</code> cv2.getPerspectiveTransform</li>
<li class="off"><code>[&#xa0;]</code> warpPerspective</li>
</ul>
</div>
</div>

<div id="outline-container-org0000009" class="outline-3">
<h3 id="org0000009"><span class="section-number-3">1.4</span> WAIT histogram <code>[0/1]</code></h3>
<div class="outline-text-3" id="text-1-4">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-12-25 Fri]</span></span>
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> cv2.matchTemplate</li>
</ul>
</div>
</div>

<div id="outline-container-org000000c" class="outline-3">
<h3 id="org000000c"><span class="section-number-3">1.5</span> WAIT threshold</h3>
</div>

<div id="outline-container-org000000f" class="outline-3">
<h3 id="org000000f"><span class="section-number-3">1.6</span> WAIT convolution</h3>
</div>

<div id="outline-container-org0000012" class="outline-3">
<h3 id="org0000012"><span class="section-number-3">1.7</span> WAIT gradient</h3>
</div>

<div id="outline-container-org0000015" class="outline-3">
<h3 id="org0000015"><span class="section-number-3">1.8</span> contours <code>[6/6]</code></h3>
<div class="outline-text-3" id="text-1-8">
<p>
<a href="file:///home/sunway/Gitbox/code/hello_world/hello_opencv/contour.py#org0000000">file:///home/sunway/Gitbox/code/hello_world/hello_opencv/contour.py#org0000000</a>
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> cv2.drawContours</li>
<li class="on"><code>[X]</code> cv2.findContours</li>
<li class="on"><code>[X]</code> cv2.contourArea</li>
<li class="on"><code>[X]</code> cv2.isContourConvex</li>
<li class="on"><code>[X]</code> cv2.arcLength</li>
<li class="on"><code>[X]</code> cv2.boundingRect</li>
</ul>
</div>
</div>

<div id="outline-container-org0000018" class="outline-3">
<h3 id="org0000018"><span class="section-number-3">1.9</span> WAIT calibrate <code>[0/1]</code></h3>
<div class="outline-text-3" id="text-1-9">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-12-25 Fri]</span></span>
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> cv2.calibrateCamera</li>
</ul>
</div>
</div>

<div id="outline-container-org000001b" class="outline-3">
<h3 id="org000001b"><span class="section-number-3">1.10</span> WAIT projection <code>[0/2]</code></h3>
<div class="outline-text-3" id="text-1-10">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-12-16 Wed]</span></span>
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> cv2.projectPoints</li>
<li class="off"><code>[&#xa0;]</code> cv2.solvePnP</li>
</ul>
</div>
</div>


<div id="outline-container-org000001e" class="outline-3">
<h3 id="org000001e"><span class="section-number-3">1.11</span> WAIT stereo <code>[0/1]</code></h3>
<div class="outline-text-3" id="text-1-11">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2020-12-25 Fri]</span></span>
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> cv2.stereoCalibrate</li>
</ul>
</div>
</div>

<div id="outline-container-org0000021" class="outline-3">
<h3 id="org0000021"><span class="section-number-3">1.12</span> cv2.KalmanFilter</h3>
<div class="outline-text-3" id="text-1-12">
<p>
<a href="dsp/kalman_filter.html#org0000000">cv2.KalmanFilter</a>
</p>
</div>
</div>

<div id="outline-container-org000002d" class="outline-3">
<h3 id="org000002d"><span class="section-number-3">1.13</span> 坑</h3>
<div class="outline-text-3" id="text-1-13">
</div>
<div id="outline-container-org0000024" class="outline-4">
<h4 id="org0000024"><span class="section-number-4">1.13.1</span> RGB vs. BGR</h4>
<div class="outline-text-4" id="text-1-13-1">
<p>
imread 返回的图像默认是 BGR, 用 cv2.cvtColor(img, cv2.COLOR_BGR2RGB) 转换为 RGB
</p>
</div>
</div>

<div id="outline-container-org0000027" class="outline-4">
<h4 id="org0000027"><span class="section-number-4">1.13.2</span> (col,row) vs. (row,col)</h4>
<div class="outline-text-4" id="text-1-13-2">
<p>
opencv 定义`点`时都是以 (col, row) 的形式, 定义 shape 是 (width, height), 图片的坐标系为:
</p>

<ul class="org-ul">
<li>左上角为原点</li>
<li>横轴为 x 方向</li>
<li>纵轴为 y 方向</li>
</ul>

<p>
所以 opencv 是 (x,y) 的形式, 而 numpy 为 (y,x) 形式, 所以涉及到两者互操作时需要注意转换, 例如:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-variable-name">img</span> = cv2.imread(<span class="org-string">"lena.jpg"</span>)
<span class="org-variable-name">src</span> = np.float32([[0, 0], [0, 1], [1, 0]])
<span class="org-variable-name">dst</span> = np.float32([[0, 10], [0, 11], [1, 10]])
<span class="org-variable-name">M</span> = cv2.getAffineTransform(src, dst)
<span class="org-comment-delimiter"># </span><span class="org-comment">img.shape &#26159; numpy &#20989;&#25968;, &#36820;&#22238;&#25968;&#25454;&#20026; (y,x,channel), &#38656;&#35201;&#36716;&#25442;&#20026; (x,y)</span>
<span class="org-variable-name">img</span> = cv2.warpAffine(img, M, img.shape[:2][::-1])
</pre>
</div>
</div>
</div>

<div id="outline-container-org000002a" class="outline-4">
<h4 id="org000002a"><span class="section-number-4">1.13.3</span> cv2.transform</h4>
<div class="outline-text-4" id="text-1-13-3">
<p>
<a href="https://stackoverflow.com/questions/44378098/trouble-getting-cv-transform-to-work">https://stackoverflow.com/questions/44378098/trouble-getting-cv-transform-to-work</a>
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">

<p class="author">Author: sunway (sunwayforever@gmail.com)<br />
Date: 2020-12-25 Fri 00:00<br />
Last updated: 2022-01-24 Mon 19:34</p>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。
<br />

<div id="disqus_thread"></div>
<script>

(function() { // DON'T EDIT BELOW THIS LINE
         var d = document, s = d.createElement('script');
         s.src = '//sunwayforever-github-io.disqus.com/embed.js';
         s.setAttribute('data-timestamp', +new Date());
         (d.head || d.body).appendChild(s);
         })();
</script>
</div>
</body>
</html>
